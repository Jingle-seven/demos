### 计算机网络五层模型笔记    
我尝试着用简洁的语言来总结我所学的计算机网络的基本架构。  
![几种分层模型比较](https://github.com/Jingle-seven/demos/blob/master/support/article/img/20180303160057.png)  
我们现在广泛使用的是TCP/IP网络，它可以归纳为四层的TCP/IP网络参考模型，模型是根据已有的协议总结而来。国际标准化组织ISO于1983年完成的OSI/RM参考模型则有七层，但由于效率不高等原因而未被广泛使用。TCP/IP模型是事实标准但OSI模型便于理解，所以采用折衷的方案使用二者结合的五层模型来讲解，对应如下：

为什么要分为这么多层次呢？因为计算机网络要解决的是很复杂的问题，分层可以把复杂的问题拆分为简单的单一的问题。一个层次解决一个主要问题，可以使通信协议的设计、编写、测试变得简单。计算机之间的通信是这样的：发送方的数据从应用层往下，经过层层封装到达物理层，转化为数据流发送给接收方。接收方收到数据流，再经过解封转化为使用者可以理解的数据，从而完成通信。下面简单介绍各个层次。

物理层

物理层负责比特流的传输，即物理层传输的是连续的0、1二进制信号。数据在物理层上主要经历了编码、调制和复用、传输、解调、译码这几个阶段。编码即以何种信号代表0，何种信号代表0的问题，调制是把数字信号转化为波形，信道复用是把几个波形混合起来传输，从而达到提高传输效率的目的。中继器和集线器工作在这一层。

链路层

链路层负责把容易发生错误的物理线路变成可靠的数据链路，主要功能有帧同步、流量控制、差错控制、链路管理等。帧同步是指把从物理层收到的比特流划分为一个个独立的帧，流量控制是限制链路上的信息流量不超过链路可承受能力，差错控制是发现和纠正错误，在接收方未收到帧时重新发送帧，链路管理是链路的建立、维持和释放。网桥和交换机工作在这一层。

网络层

网络层负责路由，即数据分组如何正确、快速地通过网络到达目的，还要负责拥塞控制。在网络层以下，数据的传输都是点到点的，因为网络层已经选择了路径。在网络层以下，机器使用的是硬件地址，而网络层及其以上使用IP地址，从而屏蔽的底层不同网络硬件地址的差异，实现不同网络的互联。IP地址是4个字节总共32bit的字段，一般表示为4个点分十进制数，按网络号和主机号的长度以及号码的不同分为5种。由于划分的不合理分别于1985年和1993年提出了改进编址方法，分别是划分子网和构造超网。简而言之，前者使用子网掩码把主机号的一部分拿出来作为子网号，不同子网不能直接通信，后者直接消除了IP地址分类的概念，把IP地址中的一部分指定为网络前缀。这仍然无法解决IP地址不足的问题，所以有了128bit的IPv6。路由器工作在这一层。

传输层

传输层是核心的一层负责提供可靠的数据传输，因为网络层提供的数据传输可能是不可靠的。传输层有两个协议：UDP和TCP。前者是无连接的传输层协议，但有较高效率，适用于错误率低的网络；TCP是面向连接的协议，保证传输的可靠性，根据16bit的端口号区分不同进程，IP地址和端口号合起来即socket地址。

应用层

应用层负责网络服务功能的实现，主要有超文本传输协议HTTP、域名系统协议DNS、文件传输协议FTP、电子邮件协议SMTP（简单邮件传输协议）POP3（邮局协议第三版）等。HTTP用于HTML网页的发布和接受，DNS用于网址和IP地址之间的转换，FTP用于文件传输，电子邮件协议用于发送和接受电子邮件。
